version: "3.8"

services:
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    ports:
      - "3000:3000"
    volumes:
      - ./frontend:/app
    depends_on:
      - facemood_api
      - chatbot_api

  facemood_api:
    build:
      context: ./ai_api/api1
      dockerfile: Dockerfile
    ports:
      - "5000:5000"
    volumes:
      - ./ai_api/api1:/app

  chatbot_api:
    build:
      context: ./ai_api/api2
      dockerfile: Dockerfile
    env_file:
      - .env
    ports:
      - "5001:5001"
    volumes:
      - ./ai_api/api2:/app
